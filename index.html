<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

       <!-- el link de arriba es lo que se trae de Bootstrap --> 

        <title>Clase 4</title>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-6 mx-auto">  <!-- mx auto para centrar el contenido. se usa con col-6 (divide lienzo en dos) -->
        <h1>Ejercicios agregar color, if-else, variable h:</h1>
        <h3>Construyamos algunas cosas a continuación, con:</h3>
        <ul id="listado"></ul> <!-- agregar palabra listado despues de haber editado queryselector -->
 <p id="favoritismo">Yo prefiero a </p>





         <img src="https://picsum.photos/400/200?random=1" 
         class="w-100 shadow-lg my-2"> <!-- shadow es para agregar sombra tras de la foto. my-2 significa margen con el contenido de arriba y abajo --> 

       
                 </div>
            </div>
        </div>  <!-- abajo, como poner una foto al ancho de la pagina (container fluid y si se le agrega g-0, queda al total del ancho)) -->

       <div class="container-fluid g-0">
            <div class="row">
                <div class="col">
<img src="https://picsum.photos/400/200?random=2" class="w-100">   

<p> Texto en container fluid (abarca toda la pantalla) </p>    
                 </div>
           </div>
       </div> 

       <div class="container-fluid g-0">
            <div class="row">
                <div class="col-6 mx-auto">
                    <p> Texto puesto en un nuevo container col-6 mx auto para mantenerlo centrado (se comienza un nuevo div class container, row, col) </p>    
                </div>
            </div>
        </div>
      




 

        <script>

            var e = ["Marge Simpson", "Homer Simpson", "Bart Simpson", "Lisa Simpson", "Maggie Simpson", "ayudante de santa", "bola de nieve", "mr smithers", "mr burns"]; 

            e.forEach((x) => {

                // se agregó if- else: son condiciones. ''si es mr smithers poner class text info, si no, poner el query selector sin class

                if(x== "mr smithers"){

                document.querySelector("#listado").innerHTML += "<li class='text-info'>" + x + "</li>"; 

            } else{

                  document.querySelector("#listado").innerHTML += "<li>" + x + "</li>";

            }

            });

//a <li se le puede poner class y agregar color de bootstrap: text-primary, text-secondary, text-success - text-danger, text-warning,text-info
                         
            var f = {
                mom: "Luann Van Houten",
                dad: "Kirk Van Houten",
                child: "Milhouse Van Houten",
            };
            var g = {
                mom: "Marge Simpson",
                dad: "Homer Simpson",
                children: ["Bart Simpson", "Lisa Simpson", "Maggie Simpson"],
            };

            document.querySelector("#favoritismo").insertAdjacentHTML("beforeend", g.children[0]);
            var h = [
                {
                    mom: "Luann",
                    dad: "Kirk",
                    children: ["Milhouse"],
                },
                {
                    mom: "Marge",
                    dad: "Homer",
                    children: ["Bart", "Lisa", "Maggie"],
                },
                {
                    mom: "Manjula",
                    dad: "Apu",
                    children: ["Poonam", "Sashi", "Pria", "Uma", "Anoop", "Sandeep", "Nabendu", "Gheet"],
                },
            ];
           
           
          
        </script>
    </body>

         <!-- ul significa Unordered list -->
         <!-- li significa list item -->
         <!-- notar q hay un Querysellector All y otro sin All -->












     <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>

        <div class="container my-5">
            <div class="row">
                <div class="col-6 mx-auto">  
             <h2>Ejercicio con variable h (octillizos) </h2>

   

        <ul id="listado2"></ul> 
 <p id="favoritismo2">Yo prefiero a </p>


    
        <script>

               var h = [
                {
                    mom: "Luann",
                    dad: "Kirk",
                    children2: ["Milhouse"],
                },
                {
                    mom: "Marge",
                    dad: "Homer",
                    children2: ["Bart", "Lisa", "Maggie"],
                },
                {
                    mom: "Manjula",
                    dad: "Apu",
                    children2: ["Poonam", "Sashi", "Pria", "Uma", "Anoop", "Sandeep", "Nabendu", "Gheet"],
                },
            ];
            
var octillizos = h[2]['children2'];//variable h, 0 1 2, children (ahi estan los octillizos)

octillizos.sort(); //funcion de jscript para ordenar alfabeticamente o numericamente los elementos en consola

console.log(octillizos)


            octillizos.forEach((x) => {


                if(x== "Sashi"){ //Tomar en cuenta mayusculas (el nombre sin mayuscula no tomaba el color) y se puede agregar fw-bold a class dentro de <li para que la palabra sea negrita

                document.querySelector("#listado2").innerHTML += "<li class='text-success fw-bold'>" + x + "</li>"; 

            } else{

                  document.querySelector("#listado2").innerHTML += "<li>" + x + "</li>";

            }

            });
 document.querySelector("#favoritismo2").insertAdjacentHTML("beforeend", octillizos = h[2]['children2'][6]);

              </script>

  


<!-- EJERCICIO HOLA FETCH -->


        <h1>Segundo ejercicio: Hola Fetch </h1>
        <h2>Por favor revisen la consola de JavaScript</h2>


    <!-- en consola buscar feature array y se ven los objects del json que se quiera manipular -->

<ul id="listado3"></ul>


        <script>
            fetch('https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/significant_month.geojson') //hay 10 temblores significativos en el mes pasado
            .then(response => response.json())      

            //then(data => console.log(data)); reemplazar por:
            
            .then(data => {
            var t= data.features; //var 't' es por 'temblor'
            console.log(t);
            t.forEach(i=>{
                document.querySelector('#listado3').innerHTML += "<li>"+i['properties']['place']+"</li>" //se pueden preguntar properties (dentro de properties esta mag, place, time) ej: <li>+i['properties'][mag]+</li>

            })

            }
            );
        </script>




<!-- esto sirve para realizar listados gigantes y reasaltar lo que se busque con esta técnica-->



            </div>
        </div>
      </div>
    </body>





<!-- EJERCICIO PORCENTAJES CON CSV -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
   
  </head>
  <body>
    <header class="container">
        <div class="row">
            <div class="col-12 my-3"><h1>Ejercicio barra de porcentajes con CSV</h1> <h4> Porcentaje alimentación en diferentes simios</h4></div>
        </div>
    </header>
    <main class="container">
        <div class="row d-flex align-items-center">
            <div class="col-4"><h3 class="fs-5">Especies</h3></div>
            <div class="col-8"><p class="d-flex justify-content-between align-items-center small"><span class="text-success">⬤ Flores</span> <span class="text-primary">⬤ Hojas</span> <span class="text-danger">⬤ Frutas</span> <span class="text-warning">⬤ Insectos</span></p>
            </div>
        </div>
        <div id="aqui" class="border-bottom"></div>
    </main>
    <footer class="container">
        <div class="row">
            <div class="col-12 mt-5">
                <p>Para armar lo que parece un <a href="https://datavizcatalogue.com/ES/metodos/grafico_de_barras_apiladas.html">gráfico de barras apiladas</a>, sólo utilizamos <a href="https://getbootstrap.com/docs/5.1/components/progress/">la clase de <code>.progress</code> de Bootstrap</a>. El color de cada elemento se ajusta a <a href="https://getbootstrap.com/docs/5.1/customize/color/">los colores que ofrece Bootstrap</a> por defecto.</p>
                <p>Los datos los obtenemos de <a href="https://raw.githubusercontent.com/profesorfaco/infografia/main/clase-4/dato_preliminar_servel.csv">un CSV que está en línea</a>. Para ir a buscar y procesar tales datos (en tal formato), se utiliza <a href="https://www.papaparse.com/">PapaParse</a>, una Biblioteca de JavaScript.</p>
            </div>
            <div class="col-12 my-5">
                <cite class="small">Fuente: <a href="https://siamang-infografia.github.io/version-4/" target="_blank">Infografía Siamang</a> Diplomado Infografía UC.</cite>
            </div>
        </div>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.1/papaparse.min.js" integrity="sha512-EbdJQSugx0nVWrtyK3JdQQ/03mS3Q1UiAhRtErbwl1YL/+e2hZdlIcSURxxh7WXHTzn83sjlh2rysACoJGfb6g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        Papa.parse("https://raw.githubusercontent.com/Soledaddelgado/clase-4/main/alimentacion%20simios.csv", {
            download: true,
            header: true,
            complete: function(results) {
                var datos = results.data;
                console.log(datos);
                const donde = document.getElementById("aqui");
                datos.forEach(d=>{
                    donde.innerHTML += '<div class="row border-top d-flex align-items-center small py-2"><div class="col-4">'+d.especie+'</div><div class="col-8"><div class="progress"><div class="progress-bar bg-success" role="progressbar" style="width: '+d.flores+'%"></div><div class="progress-bar bg-primary" role="progressbar" style="width: '+d.hojas+'%"></div><div class="progress-bar bg-danger" role="progressbar" style="width: '+d.frutas+'%"></div><div class="progress-bar bg-warning" role="progressbar" style="width: '+d.insectos+'%"></div><div' +'</div></div>';
                })
            }
        });
    </script>
  </body>


<!-- EJERCICIO FAVORITISMO -->

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
        <title>Select y JavaScript</title>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-sm-9 mx-auto">
                    <!--este es un grupo-->
                    <div class="input-group input-group-sm my-5">
                        <label class="input-group-text">Árboles de Chile</label>
                        <select id="selector" class="form-select">
                            <option value="coihue">Coihue</option>
                            <option value="roble">Roble</option>
                            <option value="tepa">Tepa</option>
                            <option value="fuinque">Fuinque</option>
                            <option value="mañio">Mañio</option>
                        </select>
                    </div>
                    <!--esto es para centrarlo-->
                    <div class="text-center">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="w-50">
                            <polygon fill="#c96a29" points="50,7.2 63.9,35.4 95,39.9 72.5,61.8 77.8,92.8 50,78.1 22.2,92.8 27.5,61.8 5,39.9 36.1,35.4   " />
                            <g id="seleccion"></g>   <!--No entendí como cambiar la estrella ni como cambiarla de posición-->
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        <script>
            const selector = document.getElementById("selector");
            const seleccion = document.getElementById("seleccion");
            var seleccionado;
            selector.onchange = function () {
                seleccionado = selector.value;
                console.log(seleccionado);
                seleccion.innerHTML = '<image style="overflow:visible;" width="100" height="100" xlink:href="graphics/' + seleccionado + '.svg"  transform="matrix(0.5 0 0 0.5 25 25)"></image>';
            };
            selector.onchange();
        </script>
    </body>




</html>

